
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/Models/plot_model_3d.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_Models_plot_model_3d.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_Models_plot_model_3d.py:


3D Rectilinear Model
-------------------
This 3D rectilinear model defines a grid with straight cell boundaries.

.. GENERATED FROM PYTHON SOURCE LINES 9-17

.. code-block:: default

    from geobipy import StatArray
    from geobipy import RectilinearMesh3D
    from geobipy import Model
    import matplotlib.pyplot as plt
    import numpy as np
    import h5py









.. GENERATED FROM PYTHON SOURCE LINES 18-19

Specify some cell centres in x and y

.. GENERATED FROM PYTHON SOURCE LINES 19-32

.. code-block:: default

    x = StatArray(np.arange(10.0), 'Easting', 'm')
    y = StatArray(np.arange(11.0), 'Northing', 'm')
    z = StatArray(np.arange(12.0), 'Depth', 'm')

    xx, yy = np.meshgrid(x.internalEdges(), y.internalEdges())
    height = StatArray(np.sin(np.sqrt(xx ** 2.0 + yy ** 2.0)), "Height")

    rm = RectilinearMesh3D(xEdges=x, yEdges=y, zEdges=z, height=height)

    values = StatArray(np.repeat(height[None, :, :], rm.z.nCells, 0), "Values")

    mod = Model(mesh=rm, values = values)








.. GENERATED FROM PYTHON SOURCE LINES 33-34

We can plot the mesh in 3D!

.. GENERATED FROM PYTHON SOURCE LINES 34-48

.. code-block:: default

    pv = mod.pyvista_mesh()

    mod.to_vtk('Model3D.vtk')

    with h5py.File('Model3D.h5', 'w') as f:
        mod.toHdf(f, 'model')

    with h5py.File('Model3D.h5', 'r') as f:
        mod2 = Model.fromHdf(f['model'])


    mod[:, :, 5]
    mod.to_vtk('slice.vtk')





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /Users/nfoks/miniconda3/envs/geobipy/lib/python3.9/site-packages/pyvista/core/dataset.py:1332: PyvistaDeprecationWarning: Use of `cell_arrays` is deprecated. Use `cell_data` instead.
      warnings.warn(





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.629 seconds)


.. _sphx_glr_download_examples_Models_plot_model_3d.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_model_3d.py <plot_model_3d.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_model_3d.ipynb <plot_model_3d.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
